<html>
<body><div u-counter='{"count":6}'><h1>Value:
<span u-count=true></span></h1>
<button u-action="decrement">Decrement</button>
<button u-action="reset">Reset</button>
<button u-action="increment">Increment</button></div>
<script>function u_counter(el, { count }) {

    function $(selector) {
        let els = document.querySelectorAll(selector);
        return {
            on(eventName, cb) {
                els.forEach(el => {
                    el.addEventListener(eventName, cb)
                })
            },
            attr(attrName) {
                return els.forEach(el => {
                    return el.getAttribute(attrName)
                })[0]
            },
            each(cb) {
                return els.forEach(el => cb(el))
            }
        }
    }


        setCount(count);
        function setCount(newValue) {
          count = newValue;
          $("[u-count]", el => el.textContent = count);
        }

        $("[u-action]").each((button) => {
          $(button).on("click", (event) => {
            const action = $(button).attr("u-action");

            if (action === "decrement") {
              setCount(count - 1);
            } else if (action === "increment") {
              setCount(count + 1);
            } else {
              setCount(0);
            }
          });
        });
      }
document.querySelectorAll('[u-counter]').forEach(el => {
      u_counter(el, JSON.parse(el.getAttribute("u-counter")))
  })</script></body></html>